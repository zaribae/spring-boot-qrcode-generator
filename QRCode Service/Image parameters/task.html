<div class="step-text">
<p></p><h5 id="description">Description</h5><p>In this stage, your task is to add versatility to the QR code service by allowing it to handle different request parameters. This will enable the generation of QR code images with various sizes and formats, as opposed to the same image every time.</p><p>Clients may need images in different formats and sizes, which requires the modification of the <code class="language-json">GET /api/qrcode</code> endpoint to accept two request parameters:</p><ul><li><p><code class="language-json">size</code>: this parameter, measured in pixels, should be within a reasonable range. If the value is less than 150 pixels or exceeds 350 pixels, the endpoint should respond with the status code <code class="language-json">400 BAD REQUEST</code>, accompanied by a JSON containing the <code class="language-json">error</code> field and a suitable error message.</p></li><li><p><code class="language-json">type</code>: the image can be in <em>PNG</em>, <em>JPEG</em>, or <em>GIF</em> format. The endpoint should return the generated image in the requested format, including setting the appropriate <code class="language-json">Content-Type</code> header. If the parameter value doesn't match these three formats, the endpoint should respond with the status code <code class="language-json">400 BAD REQUEST</code> and a JSON containing the <code class="language-json">error</code> field and a suitable error message.</p></li></ul><p>Both parameters are mandatory. However, you don't need to account for missing parameters; the default Spring Boot behavior will suffice.</p><h5 id="objectives">Objectives</h5><ul><li><p>Modify the <code class="language-json">GET /api/qrcode</code> endpoint to accept the <code class="language-json">size</code> request parameter. If the parameter value ranges between 150 and 350 pixels (inclusive), return the status code <code class="language-json">200 OK</code> and the image of the requested size. Bear in mind that QR code images are square! If the parameter value is outside this range, return the status code <code class="language-json">400 BAD REQUEST</code> along with a JSON-formatted request body containing the following:</p><pre><code class="language-json">{
  "error": "Image size must be between 150 and 350 pixels"
}</code></pre></li><li><p>Modify the <code class="language-json">GET /api/qrcode</code> endpoint to accept the <code class="language-json">type</code> request parameter. If the parameter value is either <code class="language-json">png</code>, <code class="language-json">jpeg</code>, or <code class="language-json">gif</code>, return the status code <code class="language-json">200 OK</code> and the image in the requested format. Don't forget to set the correct <code class="language-json">Content-Type</code> header in the response! If the parameter value doesn't match any of the three accepted types, return the status code <code class="language-json">400 BAD REQUEST</code>, along with a JSON-formatted request body containing the following:</p><pre><code class="language-json">{
  "error": "Only png, jpeg and gif image types are supported"
}</code></pre></li><li><p>If both the <code class="language-json">size</code> and the <code class="language-json">type</code> parameters are invalid, return the error message related to the <code class="language-json">size</code> parameter.</p></li><li><p>Aside from these modifications, the image generation and serialization process remains unchanged.</p></li></ul><h5 id="examples">Examples</h5><p><strong>Example 1</strong>. <em>a GET request to /api/qrcode with the correct size and type parameters</em>:</p><p><em>Request</em>: <code class="language-json">GET /api/qrcode?size=250&amp;type=png</code></p><p><em>Response code</em>: <code class="language-json">200 OK</code></p><p><em>Response header</em>: <code class="language-json">Content-Type: image/png</code></p><p><em>Response body:</em> byte array</p><p><strong>Example 2</strong>. <em>a GET request to /api/qrcode with an incorrect size parameter</em>:</p><p><em>Request</em>: <code class="language-json">GET /api/qrcode?size=100&amp;type=png</code></p><p><em>Response code</em>: <code class="language-json">400 BAD REQUEST</code></p><p><em>Response body</em>:</p><pre><code class="language-json">{
    "error": "Image size must be between 150 and 350 pixels"
}</code></pre><p><strong>Example 3</strong>. <em>a GET request to /api/qrcode with an incorrect type parameter</em>:</p><p><em>Request</em>: <code class="language-json">GET /api/qrcode?size=250&amp;type=tiff</code></p><p><em>Response code</em>: <code class="language-json">400 BAD REQUEST</code></p><p><em>Response body</em>:</p><pre><code class="language-json">{
    "error": "Only png, jpeg and gif image types are supported"
}</code></pre>
</div>